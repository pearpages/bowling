(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports=r(17)},,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var l=r(0),i=r.n(l),s=r(4),n=r.n(s),a=r(1),o=r(2),u=r(6),h=r(5),c=r(7);r(14),r(15);function m(e){var t=["frame"];return e.isActive&&t.push("frame--active"),e.isLast&&t.push("frame--last"),t.join(" ")}function v(e){var t=e.roll1,r=e.roll2,l=e.score,s=e.id,n=e.isLast;return i.a.createElement("div",{className:m(e)},i.a.createElement("div",{className:"frame__header"},s),i.a.createElement("div",{className:"frame__body"},i.a.createElement("div",{className:"rolls"},i.a.createElement("div",{className:"rolls__roll1"},t),i.a.createElement("div",{className:"rolls__roll2"},r),n?i.a.createElement("div",{className:"rolls__roll3"},e.roll3?e.roll3:""):null),i.a.createElement("div",{className:"score"},l)))}r(16);function f(e){var t=e.min,r=e.max,l=e.clickHandler,s=[];if(t<r)for(;t<=r;)s.push(t),t++;return i.a.createElement("div",{className:"pins"},s.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("button",{className:"pin-down",type:"button",onClick:function(){return l(e)}},e))}))}var R=10,d="All rolls populated",g="Wrong value",k="Already a strike",F="Missing Spare Roll",y="Missing Strike Rolls";function S(e,t){return p(e)&&e+t<=R}function p(e){return e>=0&&e<=R}var w=function(){function e(){Object(a.a)(this,e),this.roll1=void 0,this.roll2=void 0,this.nextFrame=void 0,this.previousFrame=void 0}return Object(o.a)(e,[{key:"setNextFrame",value:function(e){this.nextFrame=e}},{key:"setPreviousFrame",value:function(e){this.previousFrame=e}},{key:"setSiblingFrames",value:function(e,t){this.previousFrame=e,this.nextFrame=t}},{key:"getRoll1",value:function(){return this.roll1||0}},{key:"getRoll2",value:function(){return this.roll2||0}},{key:"getHtmlRoll1",value:function(){return void 0===this.roll1||this.hasStrike()?"":this.roll1+""}},{key:"getHtmlRoll2",value:function(){return this.hasStrike()?"X":void 0===this.roll2?"":this.isSpare()?"/":this.roll2+""}},{key:"hasRoll1",value:function(){return void 0!==this.roll1}},{key:"hasRoll2",value:function(){return void 0!==this.roll2}},{key:"getPinsLeft",value:function(){return R-this.getRoll1()}},{key:"getNextRoll",value:function(){return this.nextFrame?this.nextFrame.getRoll1():0}},{key:"hasNextRoll",value:function(){return!!this.nextFrame&&this.nextFrame.hasRoll1()}},{key:"addRoll",value:function(e){if(this.hasStrike())throw new Error(k);if(this.hasAllRolls())throw new Error(d);if(!S(e,this.getRoll1()))throw new Error(g);void 0===this.roll1?this.roll1=e:void 0===this.roll2&&(this.roll2=e)}},{key:"getScore",value:function(){var e=0;if(this.previousFrame&&(e=this.previousFrame.getScore()),this.isSpare()){if(this.hasSpareRoll())return e+R+this.getSpareRoll();throw new Error(F)}if(this.hasStrike()){if(this.hasStrikeRolls())return e+R+this.getStrikeRolls();throw new Error(y)}return e+this.getRoll1()+this.getRoll2()}},{key:"hasStrike",value:function(){return this.getRoll1()===R}},{key:"isSpare",value:function(){return!this.hasStrike()&&this.getRoll1()+this.getRoll2()===10}},{key:"hasAllRolls",value:function(){return void 0!==this.roll1&&void 0!==this.roll2}},{key:"hasSpareRoll",value:function(){return!!this.nextFrame&&!!this.nextFrame.getRoll1()}},{key:"getSpareRoll",value:function(){return this.nextFrame?this.nextFrame.getRoll1():0}},{key:"hasStrikeRolls",value:function(){return!!this.nextFrame&&(this.nextFrame.hasStrike()?this.nextFrame.hasRoll1()&&this.nextFrame.hasNextRoll():this.nextFrame.hasRoll1()&&this.nextFrame.hasRoll2())}},{key:"getStrikeRolls",value:function(){return this.nextFrame?this.nextFrame.hasStrike()?R+this.nextFrame.getNextRoll():this.nextFrame.getRoll1()+this.nextFrame.getRoll2():0}},{key:"canAddRoll",value:function(){return!this.hasAllRolls()&&!this.hasStrike()}},{key:"hasScoreReady",value:function(){return this.hasAllRolls()&&!this.isSpare()||this.isSpare()&&this.hasSpareRoll()||this.hasStrike()&&this.hasStrikeRolls()}}]),e}(),x=function(){function e(){var t=this;Object(a.a)(this,e),this.roll1=void 0,this.roll2=void 0,this.roll3=void 0,this.previousFrame=void 0,this.hasNextRoll=function(){return t.hasRoll3()},this.getNextRoll=function(){return t.getRoll3()}}return Object(o.a)(e,[{key:"setPreviousFrame",value:function(e){this.previousFrame=e}},{key:"getRoll1",value:function(){return this.roll1||0}},{key:"getRoll2",value:function(){return this.roll2||0}},{key:"getRoll3",value:function(){return this.roll3||0}},{key:"getHtmlRoll1",value:function(){return void 0===this.roll1?"":this.roll1===R?"X":this.roll1+""}},{key:"getHtmlRoll2",value:function(){return void 0===this.roll2?"":this.roll1+this.roll2===R?"/":this.roll2===R?"X":this.roll2+""}},{key:"getHtmlRoll3",value:function(){return void 0===this.roll3?"":this.roll3===R?"X":this.roll3+""}},{key:"hasRoll1",value:function(){return void 0!==this.roll1}},{key:"hasRoll2",value:function(){return void 0!==this.roll2}},{key:"hasRoll3",value:function(){return void 0!==this.roll3}},{key:"getPinsLeft",value:function(){return this.hasRoll3()?0:this.hasSpare()?R:this.hasRoll1()&&this.hasRoll2()&&this.hasStrike()?R:R-this.getRoll1()-this.getRoll2()}},{key:"hasSpare",value:function(){return this.getRoll1()+this.getRoll2()===R}},{key:"hasStrike",value:function(){return this.getRoll1()===R||this.getRoll2()===R}},{key:"canAddRoll",value:function(){return!this.hasRoll1()||!this.hasRoll2()||this.canAdd3rRoll()}},{key:"canAdd3rRoll",value:function(){return!this.hasRoll3()&&(this.hasSpare()||this.hasStrike())}},{key:"isValueCorrect",value:function(e,t){return this.getRoll1()===R?p(e):this.hasRoll2()?p(e):S(e,t)}},{key:"addRoll",value:function(e){if(!this.canAddRoll())throw new Error(d);if(!this.isValueCorrect(e,this.getRoll1()+this.getRoll2()))throw new Error(g);this.hasRoll1()?this.hasRoll2()?this.canAdd3rRoll()&&(this.roll3=e):this.roll2=e:this.roll1=e}},{key:"getScore",value:function(){var e=0;if(this.previousFrame&&(e=this.previousFrame.getScore()),this.hasSpare()){if(this.hasSpareRoll())return e+R+this.getSpareRoll();throw new Error(F)}if(this.hasStrike()){if(this.hasStrikeRolls())return e+R+this.getStrikeRolls();throw new Error(y)}return e+this.getRoll1()+this.getRoll2()}},{key:"hasSpareRoll",value:function(){return this.hasRoll3()}},{key:"getSpareRoll",value:function(){return this.getRoll3()}},{key:"hasStrikeRolls",value:function(){return this.hasRoll2()&&this.hasRoll3()}},{key:"getStrikeRolls",value:function(){return this.getRoll2()+this.getRoll3()}},{key:"isCompleted",value:function(){return!this.canAddRoll()}},{key:"hasScoreReady",value:function(){return!this.canAddRoll()}}]),e}();var E=function(){function e(){Object(a.a)(this,e),this.frames=void 0,this.currentFrameIndex=0;var t=new x,r=new w,l=new w,i=new w,s=new w,n=new w,o=new w,u=new w,h=new w,c=new w;c.setNextFrame(h),t.setPreviousFrame(r),h.setSiblingFrames(c,u),u.setSiblingFrames(h,o),o.setSiblingFrames(u,n),n.setSiblingFrames(o,s),s.setSiblingFrames(n,i),i.setSiblingFrames(s,l),l.setSiblingFrames(i,r),r.setSiblingFrames(l,t),this.frames=[c,h,u,o,n,s,i,l,r,t]}return Object(o.a)(e,[{key:"addRoll",value:function(e){this.getCurrentFrame().addRoll(e),this.getCurrentFrame().canAddRoll()||this.isLastFrame()||this.currentFrameIndex++}},{key:"getCurrentFrame",value:function(){return this.frames[this.currentFrameIndex]}},{key:"getCurrentFrameIndex",value:function(){return this.currentFrameIndex}},{key:"getFrames",value:function(){return this.frames}},{key:"getFramesCount",value:function(){return this.frames.length}},{key:"isLastFrame",value:function(){return this.currentFrameIndex===this.frames.length-1}},{key:"isCompleted",value:function(){return!!this.isLastFrame()&&!this.getCurrentFrame().canAddRoll()}}]),e}();function b(){var e=new E;return{game:e,frames:e.getFrames()}}var N=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(u.a)(this,Object(h.a)(t).call(this,e))).updateFrames=function(e){r.state.game.addRoll(e),r.setState({frames:r.state.frames.slice()})},r.restartGame=function(){r.setState(b())},r.state=b(),r}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"bowling"},i.a.createElement("div",{className:"frames"},this.state.frames.map(function(t,r){return i.a.createElement(v,{key:r+1,id:r+1,isActive:r===e.state.game.getCurrentFrameIndex(),isLast:r===e.state.game.getFramesCount()-1,roll1:t.getHtmlRoll1(),roll2:t.getHtmlRoll2(),roll3:t.getHtmlRoll3?t.getHtmlRoll3():"",score:t.hasScoreReady()?t.getScore():void 0})})),i.a.createElement(f,{min:0,max:this.currentFrame.getPinsLeft(),clickHandler:this.updateFrames}),this.state.game.isCompleted()?i.a.createElement("button",{style:{marginLeft:"75px"},onClick:this.restartGame},"RESTART"):null))}},{key:"currentFrame",get:function(){return this.state.game.getCurrentFrame()}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.b9251103.chunk.js.map